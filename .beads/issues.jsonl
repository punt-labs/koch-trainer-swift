{"id":"koch-trainer-swift-0la","title":"Write receive training flow tests","description":"UI tests for receive training:\n- Navigate home → receive training\n- Complete introduction phase\n- Training phase with keyboard input\n- Completion screen verification\n- Level advancement celebration (mocked state)\n\nDepends on: ReceiveTrainingPage, UITest launch handling","status":"closed","priority":2,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-22T18:17:47.939474-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-23T08:23:07.647009-08:00","closed_at":"2026-01-23T08:23:07.647009-08:00","close_reason":"Implemented in PR #31","dependencies":[{"issue_id":"koch-trainer-swift-0la","depends_on_id":"koch-trainer-swift-dsv","type":"blocks","created_at":"2026-01-22T18:18:13.304389-08:00","created_by":"\"jmf-pobox\""},{"issue_id":"koch-trainer-swift-0la","depends_on_id":"koch-trainer-swift-j0q","type":"blocks","created_at":"2026-01-22T18:18:13.519594-08:00","created_by":"\"jmf-pobox\""}]}
{"id":"koch-trainer-swift-0nx","title":"UI Test Coverage for Core Flows","description":"Epic for establishing comprehensive UI test coverage across the Koch Trainer app.\n\n## Goals\n- Create page object helpers for maintainable UI tests\n- Cover all three training modes (Receive, Send, Ear)\n- Test pause/resume functionality\n- Verify level advancement celebrations\n\n## Prerequisites\n- Accessibility identifiers are in place (PR #21)\n- UITest target exists\n\n## Scope\n- LearnView navigation tests\n- Training flow tests (intro → training → completion)\n- Pause/resume state preservation\n- Edge cases (timeout, keyboard input)","status":"closed","priority":2,"issue_type":"feature","owner":"jmf@pobox.com","created_at":"2026-01-22T18:17:21.133484-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-25T06:42:58.962739-08:00","closed_at":"2026-01-25T06:42:58.962739-08:00","close_reason":"Completed: 68 UI tests covering all core training flows (Receive, Send, Ear, QSO, Vocabulary, Settings). CI configured for nightly UI test runs. PR #41 created."}
{"id":"koch-trainer-swift-0tu","title":"Add caching to GitHub Actions CI workflow","description":"## Problem\n\nCI runs are slow due to reinstalling tools and rebuilding from scratch each time.\n\n## Current bottlenecks\n\n1. `brew install xcodegen` (~30-60s per run)\n2. `brew install swiftlint` (~20-40s per run)\n3. DerivedData rebuild (varies)\n\n## Proposed solution\n\nAdd GitHub Actions caching for:\n\n1. **Homebrew packages** - Cache xcodegen and swiftlint installations\n2. **DerivedData** - Cache Xcode build artifacts with hash-based invalidation\n\n## Implementation notes\n\n- Use `actions/cache@v4`\n- Key Homebrew cache on tool versions\n- Key DerivedData on Swift file hashes + project.yml\n- Consider merging lint + build jobs to eliminate duplicate checkout/setup\n\n## Affected files\n\n- `.github/workflows/ci.yml`","status":"closed","priority":3,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-21T06:12:45.442313-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-21T07:58:49.312143-08:00","closed_at":"2026-01-21T07:58:49.312143-08:00","close_reason":"Implemented in PR #6 - added Homebrew and DerivedData caching to CI workflow"}
{"id":"koch-trainer-swift-2h5","title":"MorseDecoderTests: malformed input, edge cases","status":"closed","priority":3,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-21T04:32:14.51361-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-22T04:32:19.046192-08:00","closed_at":"2026-01-22T04:32:19.046192-08:00","close_reason":"Tests added in PR #16"}
{"id":"koch-trainer-swift-37z","title":"Write ear training flow tests","description":"UI tests for ear training:\n- Navigate home → ear training\n- Introduction phase\n- Pattern reproduction via dit/dah\n- Level display verification\n\nDepends on: EarTrainingPage, UITest launch handling","status":"closed","priority":3,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-22T18:18:00.067836-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-23T08:23:07.650264-08:00","closed_at":"2026-01-23T08:23:07.650264-08:00","close_reason":"Implemented in PR #31","dependencies":[{"issue_id":"koch-trainer-swift-37z","depends_on_id":"koch-trainer-swift-dz9","type":"blocks","created_at":"2026-01-22T18:18:14.826835-08:00","created_by":"\"jmf-pobox\""},{"issue_id":"koch-trainer-swift-37z","depends_on_id":"koch-trainer-swift-j0q","type":"blocks","created_at":"2026-01-22T18:18:14.989762-08:00","created_by":"\"jmf-pobox\""}]}
{"id":"koch-trainer-swift-425","title":"Create page object base classes","description":"Create reusable page object helpers for UI tests:\n- BasePage protocol with common element accessors\n- LearnPage for home screen navigation\n- TrainingPage base for shared training elements\n\nFiles to create:\n- KochTrainerUITests/Pages/BasePage.swift\n- KochTrainerUITests/Pages/LearnPage.swift\n- KochTrainerUITests/Pages/TrainingPage.swift","status":"closed","priority":1,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-22T18:17:32.656655-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-23T05:17:02.08367-08:00","closed_at":"2026-01-23T05:17:02.08367-08:00","close_reason":"PR #27 created with BasePage, LearnPage, and TrainingPage"}
{"id":"koch-trainer-swift-5ge","title":"Test VoiceOver navigation flow on physical device","status":"open","priority":2,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-21T04:32:00.613665-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-21T04:32:00.613665-08:00","dependencies":[{"issue_id":"koch-trainer-swift-5ge","depends_on_id":"koch-trainer-swift-mfr","type":"blocks","created_at":"2026-01-21T04:33:46.055321-08:00","created_by":"\"jmf-pobox\""}]}
{"id":"koch-trainer-swift-5mw","title":"Replace sine wave QSB with filtered random noise","description":"## Context\nCurrent QSB uses deterministic sine wave modulation. Real ionospheric fading (QSB) has irregular, quasi-random character. Morse Runner uses filtered random noise for more realistic fading.\n\n## Implementation\nReplace sinusoidal fading with multi-pass averaged random noise:\n\n1. Generate random value each buffer block (not each sample)\n2. Apply 3-pass moving average filter for smoothing\n3. Use filtered value as gain multiplier\n4. Interpolate gain between blocks to avoid clicks\n\n```swift\n// Conceptual approach (Morse Runner style)\nlet randomValue = Float.random(in: 0...1)\nlet filteredValue = filter.process(randomValue)  // 3-pass average\nlet gain = 1.0 - fadingDepth * filteredValue\n// Interpolate from previous gain to new gain across block\n```\n\nFilter bandwidth controls fading rate (faster filter = faster fading).\n\n## Files\n- KochTrainer/Services/AudioEngine/BandConditionsProcessor.swift\n\n## Acceptance\n- QSB fading is irregular/realistic, not predictable sine wave\n- fadingRate setting controls fading speed\n- fadingDepth setting controls fading intensity\n- No audio clicks during gain transitions","status":"closed","priority":3,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-22T06:16:21.479896-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-23T06:54:40.078756-08:00","closed_at":"2026-01-23T06:54:40.078756-08:00","close_reason":"Implemented in PR #30"}
{"id":"koch-trainer-swift-653","title":"Study Morse Runner's audio processing approach","status":"closed","priority":3,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-21T04:31:47.078948-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-22T06:15:58.997468-08:00","closed_at":"2026-01-22T06:15:58.997468-08:00","close_reason":"Research complete - see PR #17 discussion or session notes for findings"}
{"id":"koch-trainer-swift-69q","title":"QSOEngineTests: phase transitions, processUserInput all phases","status":"closed","priority":3,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-21T04:32:14.407265-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-22T04:32:19.045028-08:00","closed_at":"2026-01-22T04:32:19.045028-08:00","close_reason":"Tests added in PR #16"}
{"id":"koch-trainer-swift-7cy","title":"Research HF band recordings for realistic audio reference","status":"closed","priority":3,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-21T04:31:46.845843-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-22T06:15:58.97415-08:00","closed_at":"2026-01-22T06:15:58.97415-08:00","close_reason":"Research complete - see PR #17 discussion or session notes for findings"}
{"id":"koch-trainer-swift-819","title":"Create AppSettingsTests: clamping logic, Codable migration, defaults","status":"closed","priority":2,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-21T04:32:14.299495-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-21T19:47:47.620054-08:00","closed_at":"2026-01-21T19:47:47.620054-08:00","close_reason":"Closed"}
{"id":"koch-trainer-swift-82u","title":"Create MorseAudioEngineTests: playCharacter, playGroup, stop, config","status":"closed","priority":3,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-21T04:32:14.618865-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-22T04:32:19.04696-08:00","closed_at":"2026-01-22T04:32:19.04696-08:00","close_reason":"Tests added in PR #16"}
{"id":"koch-trainer-swift-8vl","title":"Vocabulary receive: auto-submit after expected character count instead of requiring Enter","description":"Current: User must press Enter to submit answer in Vocabulary receive training.\n\nExpected: System should auto-submit when user has typed the expected number of characters (matching the word/phrase length sent via Morse), or on timeout if fewer characters received.\n\nThis matches the behavior of single-character Learn mode and improves UX flow.","status":"closed","priority":2,"issue_type":"bug","owner":"jmf@pobox.com","created_at":"2026-01-21T04:58:50.097748-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-21T15:17:15.160758-08:00","closed_at":"2026-01-21T15:17:15.160758-08:00","close_reason":"Closed"}
{"id":"koch-trainer-swift-965","title":"Add accessibilityIdentifier to testable UI elements","description":"Add stable accessibilityIdentifier values to key UI elements before expanding UI test coverage. This ensures tests work after localization.\n\nElements to identify:\n- Training start buttons (receive, send, ear training)\n- Navigation elements\n- Phase-specific views (intro, training, paused, completed)\n- Feedback indicators (correct/incorrect)\n- Progress displays\n\nPattern: use kebab-case identifiers like 'receive-training-start-button'\n\nBlocks: Expanded UI test coverage\nRationale: Tests using text labels will break when app is localized","status":"closed","priority":3,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-22T06:36:29.353962-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-22T09:24:51.408193-08:00","closed_at":"2026-01-22T09:24:51.408193-08:00","close_reason":"PR #21 adds accessibility identifiers to all key UI elements"}
{"id":"koch-trainer-swift-9mb","title":"Implement training feedback announcements for VoiceOver","description":"Training feedback announcements are implemented via AccessibilityAnnouncer (PR #17).\n\n**Completed:**\n- Correct/incorrect/timeout feedback during training\n- Pause/resume announcements\n- Level up announcements\n- Session complete announcements\n\n**Remaining:**\n- Character introduction: announce pattern when showing each character (e.g., \"K, dah dit dah\")\n- Progress indicators: announce proficiency changes\n- Character grid: announce proficiency when selecting characters in Practice mode","status":"open","priority":2,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-21T04:32:00.504528-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-25T10:13:45.068102-08:00"}
{"id":"koch-trainer-swift-9ql","title":"Blank screen when resuming custom practice after changing character selection","description":"## Steps to Reproduce\n1. Go to Learn Characters (custom practice)\n2. Select 4 characters\n3. Start Receive training\n4. Pause the session\n5. Navigate back to character selection\n6. Deselect one character (now 3 selected)\n7. Start Receive training again\n\n## Expected\nTraining starts with the 3 selected characters\n\n## Actual\nBlank screen appears\n\n## Analysis\nLikely cause: Paused session is restored with the original 4 characters, but the view/viewModel now expects 3 characters. The mismatch causes rendering failure.\n\nThe paused session check in ReceiveTrainingView.swift:94-97 validates level match but not character selection match:\n```swift\nif let paused = progressStore.pausedSession(for: sessionType),\n   !paused.isExpired,\n   paused.currentLevel == progressStore.progress.receiveLevel,\n   paused.isCustomSession == (customCharacters != nil)\n```\n\n## Suggested Fix\nEither:\n1. Clear paused session when character selection changes\n2. Add character set validation to paused session restoration\n3. Store selected characters in paused session and validate they match","status":"closed","priority":1,"issue_type":"bug","owner":"jmf@pobox.com","created_at":"2026-01-25T07:07:30.564137-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-25T07:47:20.853169-08:00","closed_at":"2026-01-25T07:47:20.853169-08:00","close_reason":"Fixed in PR #43"}
{"id":"koch-trainer-swift-adn","title":"Create SendTrainingPage helper","description":"Page object for send training UI tests:\n- Dit/dah button accessors\n- Pattern display verification\n- Keyboard alternative input\n\nDepends on: page object base classes","status":"closed","priority":2,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-22T18:17:33.148483-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-23T06:04:32.293649-08:00","closed_at":"2026-01-23T06:04:32.293649-08:00","close_reason":"PR #28","dependencies":[{"issue_id":"koch-trainer-swift-adn","depends_on_id":"koch-trainer-swift-425","type":"blocks","created_at":"2026-01-22T18:18:12.637682-08:00","created_by":"\"jmf-pobox\""}]}
{"id":"koch-trainer-swift-ae4","title":"Write pause/resume tests","description":"UI tests for session pause/resume:\n- Pause mid-training\n- Verify paused screen shows correct state\n- Resume and verify state preserved\n- End session from paused state\n\nDepends on: ReceiveTrainingPage or SendTrainingPage","status":"open","priority":2,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-22T18:17:52.558824-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-22T18:17:52.558824-08:00","dependencies":[{"issue_id":"koch-trainer-swift-ae4","depends_on_id":"koch-trainer-swift-dsv","type":"blocks","created_at":"2026-01-22T18:18:14.662865-08:00","created_by":"\"jmf-pobox\""}]}
{"id":"koch-trainer-swift-atl","title":"Write edge case UI tests","description":"Edge case UI tests:\n- Timeout behavior (wait for timeout, verify incorrect recorded)\n- Keyboard input capture verification\n- App backgrounding during training\n\nDepends on: core training flow tests","status":"open","priority":4,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-22T18:18:01.194171-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-22T18:18:01.194171-08:00","dependencies":[{"issue_id":"koch-trainer-swift-atl","depends_on_id":"koch-trainer-swift-0la","type":"blocks","created_at":"2026-01-22T18:18:15.355417-08:00","created_by":"\"jmf-pobox\""}]}
{"id":"koch-trainer-swift-bzx","title":"VocabularyTrainingViewModelTests: expand send mode paths, timer, word completion","status":"closed","priority":2,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-21T04:32:13.956378-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-21T19:43:31.975011-08:00","closed_at":"2026-01-21T19:43:31.975011-08:00","close_reason":"Added tests covering all specified areas"}
{"id":"koch-trainer-swift-cem","title":"Epic: Accessibility Compliance","description":"Full VoiceOver support, Dynamic Type, logical navigation order. Critical for Morse code's historical significance to visually impaired users.","status":"open","priority":2,"issue_type":"feature","owner":"jmf@pobox.com","created_at":"2026-01-21T04:30:43.223221-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-21T04:30:43.223221-08:00"}
{"id":"koch-trainer-swift-cm6","title":"Add schema version number to persisted data","description":"Store a version number (e.g., schemaVersion: 1) with StudentProgress. Increment on breaking changes. Enables version-specific migration logic.","status":"closed","priority":1,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-21T05:03:25.864922-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-21T10:01:34.103444-08:00","closed_at":"2026-01-21T10:01:34.103444-08:00","close_reason":"Added schemaVersion to StudentProgress with migration support"}
{"id":"koch-trainer-swift-cuc","title":"Z spec: Add MODEL_BOUND constants to distinguish animation limits from system constraints","description":"Currently bounds like sessionCount \u003c= 10000 and longestStreak \u003c= 365 exist in the Z spec only to support finite model checking with probcli—they are not real system constraints. Introduce a MODEL_BOUND constant (e.g., MODEL_BOUND == 10000) and update affected schemas to use it, making clear these are animation limits, not business rules. This clarifies intent and separates model concerns from system constraints.","status":"closed","priority":2,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-23T17:47:26.388856-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-24T04:12:30.619375-08:00","closed_at":"2026-01-24T04:12:30.619375-08:00","close_reason":"Added MODEL_BOUND constant with value 3, replaced all model-only bounds, fixed CheckProficiencyMet division by zero"}
{"id":"koch-trainer-swift-d3l","title":"Test RadioMode state machine transitions in training ViewModels","description":"The Z spec defines RadioMode state machine constraints: (1) radioMode != off required for ActivateTone, (2) radioMode = receiving after ResumeSession. The RadioModeTests.swift tests enum equality but not these state machine transitions. Add tests that verify tone cannot activate when radio is off, and that resuming a paused session sets radioMode to receiving.","status":"closed","priority":2,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-23T17:47:26.050659-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-25T10:13:38.411558-08:00","closed_at":"2026-01-25T10:13:38.411558-08:00","close_reason":"RadioTests.swift has full state machine coverage, ViewModel tests verify integration"}
{"id":"koch-trainer-swift-dsv","title":"Create ReceiveTrainingPage helper","description":"Page object for receive training UI tests:\n- Keyboard input simulation\n- Wait-for-audio helpers\n- Feedback verification\n\nDepends on: page object base classes","status":"closed","priority":2,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-22T18:17:32.911967-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-23T06:04:32.292182-08:00","closed_at":"2026-01-23T06:04:32.292182-08:00","close_reason":"PR #28","dependencies":[{"issue_id":"koch-trainer-swift-dsv","depends_on_id":"koch-trainer-swift-425","type":"blocks","created_at":"2026-01-22T18:18:12.355303-08:00","created_by":"\"jmf-pobox\""}]}
{"id":"koch-trainer-swift-dz9","title":"Create EarTrainingPage helper","description":"Page object for ear training UI tests:\n- Pattern input verification\n- Level display accessors\n\nDepends on: page object base classes","status":"closed","priority":2,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-22T18:17:45.608068-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-23T06:04:32.29442-08:00","closed_at":"2026-01-23T06:04:32.29442-08:00","close_reason":"PR #28","dependencies":[{"issue_id":"koch-trainer-swift-dz9","depends_on_id":"koch-trainer-swift-425","type":"blocks","created_at":"2026-01-22T18:18:12.840391-08:00","created_by":"\"jmf-pobox\""}]}
{"id":"koch-trainer-swift-eho","title":"StudentProgressTests: computed properties, word stats merging, session history","status":"closed","priority":2,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-21T04:32:14.190028-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-21T19:43:31.963486-08:00","closed_at":"2026-01-21T19:43:31.963486-08:00","close_reason":"Added tests covering all specified areas"}
{"id":"koch-trainer-swift-ex7","title":"Evaluate view testing approach: ViewInspector vs snapshot vs UI tests","description":"Must decide testing strategy before writing 12+ view test files. ViewInspector allows unit-style testing, snapshots catch visual regressions, UI tests are integration-level.","status":"closed","priority":3,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-21T04:32:20.700281-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-22T06:21:09.478726-08:00","closed_at":"2026-01-22T06:21:09.478726-08:00","close_reason":"Evaluated view testing approaches. Recommendation: exclude Views from coverage target (achieve 90%+ on Models/ViewModels/Services), add XCUITest target for 5-10 critical flows as integration tests. Also fixed slow unit tests (109s -\u003e 33s) by adding SilentAudioEngine and configurable AI response delay."}
{"id":"koch-trainer-swift-frf","title":"Test sessionCorrect \u003c= sessionAttempts invariant in session ViewModels","description":"The Z spec defines sessionCorrect \u003c= sessionAttempts as an invariant in SessionState. This should be tested in ReceiveTrainingViewModel and SendTrainingViewModel to verify correctCount never exceeds totalAttempts during a session. Pattern: XCTAssertLessThanOrEqual(vm.correctCount, vm.totalAttempts) after recording responses.","status":"closed","priority":2,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-23T17:47:25.705391-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-25T10:13:38.301704-08:00","closed_at":"2026-01-25T10:13:38.301704-08:00","close_reason":"SessionCounterTests.swift verifies correct \u003c= attempts invariant"}
{"id":"koch-trainer-swift-g1g","title":"SendTrainingViewModelTests: pattern building, character decoding, timeout","status":"closed","priority":2,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-21T04:32:14.080257-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-21T19:43:31.985779-08:00","closed_at":"2026-01-21T19:43:31.985779-08:00","close_reason":"Added tests covering all specified areas"}
{"id":"koch-trainer-swift-i97","title":"Create migration tests with sample data from each app version","description":"Export sample StudentProgress JSON from current version. Create tests that load this data after schema changes to verify migration works.","status":"closed","priority":2,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-21T05:03:26.249815-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-25T10:50:45.836828-08:00","closed_at":"2026-01-25T10:50:45.836828-08:00","close_reason":"Premature - only schema v1 exists. GracefulDecoderTests already covers backwards compatibility. Create migration tests when introducing schema v2."}
{"id":"koch-trainer-swift-imv","title":"Write send training flow tests","description":"UI tests for send training:\n- Navigate home → send training\n- Complete introduction phase\n- Training phase with dit/dah buttons\n- Pattern recognition verification\n- Completion screen\n\nDepends on: SendTrainingPage, UITest launch handling","status":"closed","priority":2,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-22T18:17:50.471976-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-23T08:23:07.649397-08:00","closed_at":"2026-01-23T08:23:07.649397-08:00","close_reason":"Implemented in PR #31","dependencies":[{"issue_id":"koch-trainer-swift-imv","depends_on_id":"koch-trainer-swift-adn","type":"blocks","created_at":"2026-01-22T18:18:14.027382-08:00","created_by":"\"jmf-pobox\""},{"issue_id":"koch-trainer-swift-imv","depends_on_id":"koch-trainer-swift-j0q","type":"blocks","created_at":"2026-01-22T18:18:14.234756-08:00","created_by":"\"jmf-pobox\""}]}
{"id":"koch-trainer-swift-j0q","title":"UITest launch argument handling","description":"Detect --uitesting launch argument in app to enable:\n- Silent/mock audio engine\n- Deterministic state seeding via environment variables\n- Reduced timeouts for faster test execution\n\nFiles: KochTrainerApp.swift or similar entry point","status":"closed","priority":1,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-22T18:17:32.381488-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-23T05:02:03.668616-08:00","closed_at":"2026-01-23T05:02:03.668616-08:00","close_reason":"PR #24 merged"}
{"id":"koch-trainer-swift-j3i","title":"Hide AI text from VoiceOver when copy-by-ear mode enabled","description":"QSO text currently uses visual opacity only. Need accessibilityHidden modifier so VoiceOver doesn't read hidden text.","status":"open","priority":2,"issue_type":"bug","owner":"jmf@pobox.com","created_at":"2026-01-21T04:32:00.827036-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-21T04:32:00.827036-08:00"}
{"id":"koch-trainer-swift-jto","title":"Epic: Test Coverage 90%+ (excluding Views)","description":"Target 90%+ coverage on testable code (Models, ViewModels, Services). Views excluded from coverage target - tested via XCUITest integration tests instead.\n\nCurrent: ~950 unit tests + ~70 UI tests (~1,020 total)","status":"open","priority":2,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-21T04:30:47.549568-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-25T10:13:52.486504-08:00","dependencies":[{"issue_id":"koch-trainer-swift-jto","depends_on_id":"koch-trainer-swift-ex7","type":"blocks","created_at":"2026-01-22T05:43:20.212296-08:00","created_by":"\"jmf-pobox\""}]}
{"id":"koch-trainer-swift-mfr","title":"Audit all views for accessibility labels","status":"open","priority":2,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-21T04:32:00.27417-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-21T04:32:00.27417-08:00"}
{"id":"koch-trainer-swift-nuu","title":"Add test for introIndex increment in NextIntroCharacter","status":"closed","priority":3,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-25T10:13:34.195784-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-25T10:20:56.104378-08:00","closed_at":"2026-01-25T10:20:56.104378-08:00","close_reason":"Constraint already tested by testNextIntroCharacterAdvances; updated AUDIT.md to reflect coverage"}
{"id":"koch-trainer-swift-p3h","title":"Notification quiet hours and preferred time should follow user's current timezone","description":"Current behavior: Quiet hours and preferred notification time stored as absolute Date, not relative to user's current timezone.\n\nProblem: Users who travel across timezones get notifications at unexpected local times.\n\nExpected: Settings should represent local time in whatever timezone the user is currently in.\n\nFix:\n- Change preferredReminderTime from Date to hour/minute Int components\n- Evaluate against Calendar.current at notification scheduling time\n- No migration needed (single-user app pre-release)\n\nAffected files:\n- NotificationSettings.swift\n- NotificationManager.swift  \n- SettingsView.swift (time pickers)","status":"closed","priority":2,"issue_type":"bug","owner":"jmf@pobox.com","created_at":"2026-01-21T05:05:05.250951-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-21T06:50:48.945474-08:00","closed_at":"2026-01-21T06:50:48.945474-08:00","close_reason":"Fixed in PR #4 - notification time now stored as hour/minute integers instead of Date"}
{"id":"koch-trainer-swift-pww","title":"Replace white noise with pink noise filter for QRN","description":"## Context\nResearch shows atmospheric noise follows 1/f (pink) spectral characteristics, not white noise.\n\n## Implementation\nUse Paul Kellet's economy filter in BandConditionsProcessor.addNoise():\n\n```swift\n// State variables (persist between samples)\nprivate var pinkB0: Float = 0\nprivate var pinkB1: Float = 0\nprivate var pinkB2: Float = 0\n\n// Per sample generation\nlet white = Float.random(in: -1...1)\npinkB0 = 0.99765 * pinkB0 + white * 0.0990460\npinkB1 = 0.96300 * pinkB1 + white * 0.2965164\npinkB2 = 0.57000 * pinkB2 + white * 1.0526913\nlet pink = pinkB0 + pinkB1 + pinkB2 + white * 0.1848\n```\n\nAccuracy: ±0.5dB across audible range.\n\n## Files\n- KochTrainer/Services/AudioEngine/BandConditionsProcessor.swift\n\n## Acceptance\n- Base QRN noise uses pink spectrum instead of white\n- Static crashes remain unchanged\n- Existing tests pass","status":"closed","priority":3,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-22T06:16:11.6965-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-22T06:42:20.156625-08:00","closed_at":"2026-01-22T06:42:20.156625-08:00","close_reason":"Implemented in PR #18"}
{"id":"koch-trainer-swift-qc3","title":"Support Dynamic Type in custom views","status":"open","priority":2,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-21T04:32:00.720761-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-21T04:32:00.720761-08:00"}
{"id":"koch-trainer-swift-qde","title":"Implement graceful degradation on partial decode failure","description":"If nested models (SessionResult, CharacterStat) fail to decode, preserve what we can instead of losing everything. Consider: decode session history separately, skip invalid entries.","status":"closed","priority":1,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-21T05:03:26.138926-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-21T10:01:34.293686-08:00","closed_at":"2026-01-21T10:01:34.293686-08:00","close_reason":"Added GracefulDecoder for graceful degradation on partial decode failure"}
{"id":"koch-trainer-swift-quc","title":"Fix button tap targets limited to text area instead of full button","description":"## Problem\nUser reports that button tap targets are limited to the visible text area rather than the full button surface. For example, the 'Next Character' button on Learn Patterns (CharacterIntroductionView) only responds to taps near the text, not across the entire button width.\n\n## Observed Behavior\n- Tapping the edges of buttons does not register\n- Only tapping near/on the text label works\n- Affects multiple screens with similar button patterns\n\n## Code Analysis\nThe button styles in ButtonStyles.swift appear correct:\n- PrimaryButtonStyle and SecondaryButtonStyle use `.frame(maxWidth: .infinity)`\n- Padding is applied to labels\n- Background colors cover the full area\n\nHowever, the actual tap behavior contradicts this. Possible causes:\n1. SwiftUI hit-testing not expanding with the frame\n2. Parent container constraints limiting hit area\n3. Missing `.contentShape(Rectangle())` modifier needed for transparent/bordered areas\n4. NavigationLink or other wrapper interfering with hit testing\n\n## Key Files to Investigate\n- KochTrainer/Design/Components/ButtonStyles.swift (lines 3-40)\n- KochTrainer/Views/Training/CharacterIntroductionView.swift (lines 59-70 - Next Character button)\n- Any view using SecondaryButtonStyle (bordered buttons with clear background)\n\n## Fix Approach\n1. Reproduce the issue in Simulator or device\n2. Add `.contentShape(Rectangle())` to button styles if hit area doesn't match visual area\n3. Test all button variations (Primary, Secondary, NavigationLink-wrapped)\n4. Verify fix across affected screens","status":"closed","priority":2,"issue_type":"bug","owner":"jmf@pobox.com","created_at":"2026-01-23T06:07:06.466125-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-23T06:22:18.685877-08:00","closed_at":"2026-01-23T06:22:18.685877-08:00","close_reason":"PR #29 created"}
{"id":"koch-trainer-swift-rte","title":"Epic: Data Migration Safety - Never Lose User Progress","description":"Critical: Current implementation silently loses ALL user data if Codable decoding fails for any reason.\n\nCurrent risks:\n1. ProgressStore.load() returns fresh StudentProgress() on decode failure\n2. No schema version tracking - can't apply version-specific migrations  \n3. No backup before migration attempt\n4. Nested model decode failures cascade to total data loss\n5. No tests for migration paths from old data formats\n\nRequirements:\n- Schema version number stored with data\n- Backup raw data before decode attempt\n- Graceful degradation: preserve what we can decode\n- Migration tests with sample data from each app version\n- Never return empty progress if any data exists","status":"closed","priority":1,"issue_type":"feature","owner":"jmf@pobox.com","created_at":"2026-01-21T05:03:01.938219-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-21T10:01:53.139537-08:00","closed_at":"2026-01-21T10:01:53.139537-08:00","close_reason":"Implemented core data migration safety: schema versioning, rolling backups, graceful degradation. Remaining items (migration tests, recovery UI) tracked separately."}
{"id":"koch-trainer-swift-sdq","title":"StreakCalculatorTests: timezone boundaries, DST edge cases","status":"closed","priority":3,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-21T04:32:14.723903-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-22T05:25:03.337477-08:00","closed_at":"2026-01-22T05:25:03.337477-08:00","close_reason":"Merged PR #15"}
{"id":"koch-trainer-swift-t7l","title":"Add data recovery UI in Settings for corrupt data","description":"If decode fails but backup exists, show option in Settings to: view error details, export raw data, attempt recovery, or reset with acknowledgment.","status":"open","priority":3,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-21T05:03:26.359487-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-21T05:03:26.359487-08:00"}
{"id":"koch-trainer-swift-ucc","title":"Add band conditions audio preview in Settings","description":"## Context\nUsers cannot easily compare band condition settings without starting a training session. A preview button would help tuning.\n\n## Implementation\nAdd \"Preview\" button in Settings \u003e Band Conditions section that plays:\n- 3 seconds of tone with current QRN/QSB/QRM settings applied\n- Uses same BandConditionsProcessor as training\n\n## Files\n- KochTrainer/Views/Settings/SettingsView.swift (or new BandConditionsSettingsView)\n- May need minor MorseAudioEngine changes for standalone preview\n\n## Acceptance\n- Preview button plays sample tone with band conditions\n- Settings changes reflect immediately in next preview\n- Audio stops cleanly when navigating away","status":"closed","priority":4,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-22T06:16:30.055159-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-23T06:40:30.316869-08:00","closed_at":"2026-01-23T06:40:30.316869-08:00","close_reason":"Preview Sound button already implemented in SettingsView.swift"}
{"id":"koch-trainer-swift-v0x","title":"Add accessibilityLabel to image-only buttons","status":"open","priority":2,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-21T04:32:00.391904-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-21T04:32:00.391904-08:00","dependencies":[{"issue_id":"koch-trainer-swift-v0x","depends_on_id":"koch-trainer-swift-mfr","type":"blocks","created_at":"2026-01-21T04:33:46.165276-08:00","created_by":"\"jmf-pobox\""}]}
{"id":"koch-trainer-swift-vh1","title":"Epic: Band Conditions Audio Tuning","status":"closed","priority":3,"issue_type":"feature","owner":"jmf@pobox.com","created_at":"2026-01-21T04:30:37.725634-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-23T06:40:30.335077-08:00","closed_at":"2026-01-23T06:40:30.335077-08:00","close_reason":"Preview Sound button already implemented in SettingsView.swift"}
{"id":"koch-trainer-swift-x74","title":"Update What's New to match current app state","description":"The What's New view is out of sync with the current app:\n\n## Issues\n- **Icons mismatch**: Ear icon used for Receive instead of waveform. Ear Training should use ear icon.\n- **Ear Training missing**: Ear Training mode was added but not reflected in What's New\n\n## Reference\nHomepage icons in LearnView.swift:\n- Ear Training: ear\n- Receive: waveform\n- Send: hand.tap\n\n## Tasks\n- Review WhatsNewView.swift for outdated content\n- Update icons to match LearnView\n- Add Ear Training feature to What's New\n- Verify all features listed are current","status":"closed","priority":2,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-25T06:49:01.666062-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-25T09:37:49.095363-08:00","closed_at":"2026-01-25T09:37:49.095363-08:00","close_reason":"Fixed in PR #46"}
{"id":"koch-trainer-swift-xqb","title":"Epic: Ear Training Mode","description":"New training mode focused on pattern recognition without character knowledge.\n\n**UX Flow:**\n- User hears Morse audio for a character (single play, no replay)\n- User taps dit/dah buttons to reproduce the pattern\n- Visual feedback shows pattern comparison (e.g., '.- correct!' or '.- vs ..')\n\n**Progression:**\n- Levels by pattern length: Level 1 = 1-element (E,T), Level 2 = 2-element (A,I,M,N), etc.\n- Max level: 5 (5-element patterns)\n- Cumulative: higher levels include all shorter patterns\n- Advancement: 20 attempts + 90% accuracy (same as Receive/Send)\n\n**Tracking:**\n- Progress stored and displayed on UI (e.g., '3/5')\n- NOT used for notifications, streaks, or spaced repetition\n\n**Home Screen:**\n- New card placed ABOVE Receive and Send modes","status":"closed","priority":2,"issue_type":"feature","owner":"jmf@pobox.com","created_at":"2026-01-21T14:57:03.724719-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-21T15:37:30.075241-08:00","closed_at":"2026-01-21T15:37:30.075241-08:00","close_reason":"Ear training feature implemented and tested"}
{"id":"koch-trainer-swift-xzb","title":"Backup raw data before decode attempt in ProgressStore.load()","description":"Before attempting JSONDecoder.decode(), copy the raw Data to a backup key. If decode fails, raw data is preserved for recovery or debugging.","status":"closed","priority":1,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-21T05:03:25.997971-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-21T10:01:34.200403-08:00","closed_at":"2026-01-21T10:01:34.200403-08:00","close_reason":"Added BackupManager with rolling backups before every save"}
{"id":"koch-trainer-swift-yc6","title":"Investigate pink vs white noise for atmospheric simulation","status":"closed","priority":3,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-21T04:31:46.967039-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-22T06:15:58.987124-08:00","closed_at":"2026-01-22T06:15:58.987124-08:00","close_reason":"Research complete - see PR #17 discussion or session notes for findings"}
{"id":"koch-trainer-swift-zmb","title":"Z spec: Add bounds to enable probcli animation (reduce unbounded enumeration)","description":"probcli animation fails with 'virtual_time_out' due to unbounded enumeration of SESSIONID and TIMESTAMP given sets. After adding MODEL_BOUND constants (see koch-trainer-swift-cuc), add finite bounds to enable animation: (1) constrain session-related operations to use bounded model inputs, (2) consider replacing unbounded given sets with finite ranges for model checking, (3) potentially reduce MODEL_BOUND from 10000 to smaller values (e.g., 100) for faster model exploration.","status":"closed","priority":2,"issue_type":"task","owner":"jmf@pobox.com","created_at":"2026-01-23T17:47:26.796854-08:00","created_by":"\"jmf-pobox\"","updated_at":"2026-01-24T07:14:29.128814-08:00","closed_at":"2026-01-24T07:14:29.128814-08:00","close_reason":"Completed in PR #35: Added MODEL_BOUND, session state constraints, accuracy constraints, radio/tone constraints, and proper schema structure for ProB animation","dependencies":[{"issue_id":"koch-trainer-swift-zmb","depends_on_id":"koch-trainer-swift-cuc","type":"blocks","created_at":"2026-01-23T17:47:46.536113-08:00","created_by":"\"jmf-pobox\""}]}
